{% extends "./atlas.html" %}

{% comment %}

Metacell projection ang gene expression heatmap for a given dataset

Features:
- Select metacells for further analysis (e.g., listing their markers)
- Metacell projection and gene expression heatmap:
    - Fetches data via REST API
    - Plots data
    - Download data button
    - Copy link to clipboard button

Input:
- dataset: Dataset object from `models.py`
- species: respective Species object
- query: query parameters to automatically filter and adjust the plots

{% endcomment %}

{% block title %}
    {{ dataset }} Overview
{% endblock title %}

{% block content %}

    <!-- Metacell projection -->
    <h1 class="h3 pt-2 mb-3" id="projection">
        Metacell projection
        {% load section_buttons %}
        {% clipboard_button id='projection' %}
        {% data_dropdown id='projection' %}
    </h1>

    {% include '../components/plots/metacell_projection.html' with id='projection' %}

    <!-- Gene expression heatmap -->
    <h1 class="h3 pt-2 mb-3" id="expression">
        Gene expression heatmap
        {% clipboard_button id='expression' %}
        {% data_dropdown id='expression' %}
    </h1>

    {% include '../components/plots/expression_heatmap.html' with id='expression' %}

{% endblock content %}
