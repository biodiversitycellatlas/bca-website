{% comment %}

Container for rendering plots

Features:
- Loading spinner and functions to show/hide it while plot is loading

Input:
- id: prefix used in the identifiers of all elements
- ratio: aspect ratio of the plot (default: not defined)

{% endcomment %}
<div id="{{ id }}-plot"
     class="container-xxl"
     style="{% if ratio %}aspect-ratio: {{ ratio }};
            {% endif %}">
    <div id="{{ id }}-spinner" class="loading-state">
        <div class="loader"></div>
    </div>
</div>
<script type="text/javascript">
    // Loading spinner functions
    function getSpinner (id) {
        return document.getElementById(id + '-spinner');
    }

    function hideSpinner (id) {
        var spinner = getSpinner(id);
        if (spinner !== null) {
            spinner.style.display = 'none';
        }
    }

    function showSpinner (id) {
        var spinner = getSpinner(id);
        if (spinner !== null) {
            spinner.style.display = 'flex';
        }
    }

    // Reset container with a plot to show spinner
    function clearContainer (id) {
        $("#" + id + "-plot").html(
            `<div id="${id}-spinner" class="loading-state"><div class="loader"></div></div>`);
    }
</script>
